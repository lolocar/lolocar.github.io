<!DOCTYPE html> 
<html> 
<head>
<style>
body {
  background-color: #111111;
  color: green;
}
</style>
</head>
<body> 

 <video controls id="myVideo" width="640" >
    <source src="test.mp4" type="video/mp4">
    <p>This browser does not support the video element.</p>
  </video>

<form>
  <input type="checkbox" id="dyn_bright" name="dyn_bright">
  <label for="dyn_bright"> Brightness</label>
  <input type="checkbox" id="dyn_contrast" name="dyn_contrast">
  <label for="dyn_contrast"> Contrast</label>
  <input type="checkbox" id="dyn_saturation" name="dyn_saturation">
  <label for="dyn_saturation"> Saturation</label><br>
</form>

<table><tr><td>Video Time</td><td><p id="input2">0</p></td><td> / Speed</td><td><p id="input1">1.0</p></td></tr></table>

<style type="text/css">
.green {
    color: #00FF00;
    border-style: none;
}
.yellow {
    color: #a87f32;
    border-style: none;
}
.black {
    color: #000000;
    border-style: none;
}

</style>

<script>
var vid = document.getElementById("myVideo");

vid.addEventListener("timeupdate",function(){
    var timeDisplay;
	timeDisplay = Math.floor(vid.currentTime);
	console.log(Math.floor(vid.currentTime));
/*	if(timeDisplay<108) {	setPlaySpeed(2.0);
} else if(timeDisplay>861 && timeDisplay<906) { setPlaySpeed(2.0)
} else if(timeDisplay>974 && timeDisplay<1016) { setPlaySpeed(2.0)
} else if(timeDisplay>1047 && timeDisplay<1186) { setPlaySpeed(2.0)
} else if(timeDisplay>1212 && timeDisplay<1260) { setPlaySpeed(2.0)
} else if(timeDisplay>1269 && timeDisplay<1322) { setPlaySpeed(2.0)
} else if(timeDisplay>1344 && timeDisplay<1598) { setPlaySpeed(2.0)
} else if(timeDisplay>1791 && timeDisplay<1813) { setPlaySpeed(2.0)
} else if(timeDisplay>1956 && timeDisplay<1984) { setPlaySpeed(2.0)
} else if(timeDisplay>2277 && timeDisplay<2338) { setPlaySpeed(2.0)
} else if(timeDisplay>2350 && timeDisplay<2371) { setPlaySpeed(2.0)
	} else { 
		setPlaySpeed(1.2);
	}
  */	document.getElementById('input2').innerHTML = timeDisplay;

},false);

function getPlaySpeed() { 
  alert(vid.playbackRate);
} 

function setPlaySpeed(x){ 
  vid.playbackRate = x;
  document.getElementById('input1').innerHTML = x;
  if(x==1.2)
  {
	document.getElementById('input1').style.color = "red";
  }
  else if (x==2)
  {
  document.getElementById('input1').style.color = "green";  
  }

} 

function setPlaySpeedFast() { 
  vid.playbackRate = 2;
} 
function update(illuminance) {
  document.getElementById("value").innerHTML = illuminance + " lux";

  var colorPart = Math.min(255, illuminance).toFixed(0);
  document.getElementById("box").style.backgroundColor =
    "rgb(" + colorPart + ", " + colorPart + ", " + colorPart + ")";
}

if ("AmbientLightSensor" in window) {
  try {
    var sensor = new AmbientLightSensor();
    sensor.addEventListener("reading", function (event) {
      update(sensor.illuminance);
      var adjustment = Math.sqrt(sensor.illuminance)*2+70;
	  
	  if（document.getElementById("dyn_bright").checked==false）
		adjustment=100;
	  if(adjustment>150)
		adjustment=150;
//      vid.style.filter = "brightness("+adjustment+"%)";  
      vid.style.filter = "brightness("+adjustment+"%)";  
    });
    sensor.start();
  } catch (e) {
    console.error(e);
  }
}

if ("ondevicelight" in window) {
  function onUpdateDeviceLight(event) {
    update(event.value);
  }
  
  window.addEventListener("devicelight", onUpdateDeviceLight);
}
</script> 
<div><p>Current light intensity is <b id="value">unknown</b>.</p>

<div id="box"></div>
<p>TEST.</p>
chrome://flags/#enable-generic-sensor
</body> 
</html>
